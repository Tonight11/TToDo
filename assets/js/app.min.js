let todoInput=document.querySelector(".todo__input"),todoBtn=document.querySelector(".todo__btn"),todoList=document.querySelector(".todo__list");function saveLocalStorage(e){let t;t=null===localStorage.getItem("todos")?[]:JSON.parse(localStorage.getItem("todos")),t.push(e),localStorage.setItem("todos",JSON.stringify(t))}function removeLocalStorage(e){let t;t=null===localStorage.getItem("todos")?[]:JSON.parse(localStorage.getItem("todos"));e=e.firstChild.innerText;t.splice(t.indexOf(e),1),localStorage.setItem("todos",JSON.stringify(t))}function saveCompleted(e){let t;t=null===localStorage.getItem("completed")?[]:JSON.parse(localStorage.getItem("completed")),t.includes(e)||(t.push(e),localStorage.setItem("completed",JSON.stringify(t)))}function removeCompleted(e){let t;t=null===localStorage.getItem("completed")?[]:JSON.parse(localStorage.getItem("completed"));e=e.firstChild.innerText;t.splice(t.indexOf(e),1),localStorage.setItem("completed",JSON.stringify(t))}todoBtn.addEventListener("click",function(e){e.preventDefault();e=todoInput.value;if(!e)return!1;let t=document.createElement("li");t.classList.add("list__item"),todoList.appendChild(t);let l=document.createElement("div");l.classList.add("list__text"),l.innerText=e,t.appendChild(l),saveLocalStorage(todoInput.value);let o=document.createElement("button"),n=document.createElement("i");o.classList.add("list__btn-complete","list__btn"),n.classList.add("list__complete","fas","fa-check"),t.appendChild(o),o.appendChild(n);let s=document.createElement("button"),a=document.createElement("i");s.classList.add("list__btn-delete","list__btn"),a.classList.add("list__delete","fas","fa-trash"),t.appendChild(s),s.appendChild(a);e=s.closest("li").offsetHeight;s.style.height=e+"px",o.style.height=e+"px",todoInput.value=""}),todoList.addEventListener("click",function(t){const l=t.target;if(l.classList.contains("list__btn-delete")){let e=l.parentElement;e.classList.add("delete"),e.addEventListener("transitionend",()=>{e.remove()});t=l.parentElement;removeLocalStorage(t),removeCompleted(t)}}),todoList.addEventListener("click",function(e){const t=e.target;if(t.classList.contains("list__btn-complete")){let e=t.previousSibling;e.classList.add("complete"),t.classList.add("green"),saveCompleted(t.parentElement.firstChild.innerText)}}),document.addEventListener("DOMContentLoaded",function(){let e;e=null===localStorage.getItem("todos")?[]:JSON.parse(localStorage.getItem("todos")),e.forEach(function(e){let t=document.createElement("li");t.classList.add("list__item"),todoList.appendChild(t);let l=document.createElement("div");l.classList.add("list__text"),l.innerText=e,t.appendChild(l);let o=document.createElement("button"),n=document.createElement("i");o.classList.add("list__btn-complete","list__btn"),n.classList.add("list__complete","fas","fa-check"),t.appendChild(o),o.appendChild(n);let s=document.createElement("button"),a=document.createElement("i");s.classList.add("list__btn-delete","list__btn"),a.classList.add("list__delete","fas","fa-trash"),t.appendChild(s),s.appendChild(a);e=s.closest("li").offsetHeight;s.style.height=e+"px",o.style.height=e+"px"})}),document.addEventListener("DOMContentLoaded",function(){let e;e=null===localStorage.getItem("completed")?[]:JSON.parse(localStorage.getItem("completed"));let l=document.querySelectorAll(".list__text");e.forEach(function(t){l.forEach(function(e){e.innerText==t&&(e.classList.add("complete"),e.nextElementSibling.classList.add("green"))})})});